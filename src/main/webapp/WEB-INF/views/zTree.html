<!DOCTYPE html>
<HTML>
<HEAD>
    <TITLE> ZTREE DEMO </TITLE>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="css/zTree/demo.css" type="text/css">
    <link rel="stylesheet" href="css/zTree/zTreeStyle/zTreeStyle.css" type="text/css">
    <script type="text/javascript" src="js/zTree/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="js/zTree/jquery.ztree.core.js"></script>
</HEAD>
<body>
<div style="width:15%;">
    <ul id="demotree" class="ztree"></ul>
</div>
<script type="text/javascript">
    var setting = {
        data: {
            simpleData : {
                idKey : 'CATGORYID',
                pIdKey : 'CATALEVEL',
                enable : true,
                rootPid : 0
            }
        }
    };

    var zTree;
    var treeNodes;

    $(function(){
        $.ajax({
            async : false,
            cache:false,
            type: 'POST',
            dataType : "json",
            url: "/showTree",//请求的action路径
            error: function () {
                alert('请求失败');
            },
            success:function(data){
                treeNodes = eval(data);
            }
        });
    });

    //初始化节点
    $(document).ready(function(){
        $.fn.zTree.init($("#demotree"), setting, treeNodes);
    });
</script>
</body>
</HTML>